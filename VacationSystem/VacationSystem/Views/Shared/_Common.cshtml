@using Microsoft.AspNetCore.Http;
@using VacationSystem.HtmlHelpers;

@{
    Layout = "_Layout";

    // является ли данный сотрудник руководителем какого-нибудь подразделения
    bool isHead = false;
    if (TempData["head"] != null)
        isHead = (bool)TempData["head"];

    string error = null;
    if (TempData["Error"] != null)
        error = TempData["Error"].ToString();

    string success = null;
    if (TempData["Success"] != null)
        success = TempData["Success"].ToString();

    string message = null;
    if (TempData["Message"] != null)
        message = TempData["Message"].ToString();
}


<main role="main" id="main-block" class="flex-container flex-row flex-start">
    <div id="left-menu" class="flex-container flex-column flex-start">
        <p class="menu-header menu-item">Меню</p>
        <a href="#" class="menu-link menu-item">Мои подразделения</a>
        <a asp-controller="Vacation" asp-action="Index" class="menu-link menu-item">Мои отпуска</a>
        <a href="#" class="menu-link menu-item">Уведомления</a>
        @if (isHead)
        {
            <p class="menu-header menu-item">Руководитель</p>
            <a asp-controller="Head" asp-action="Departments" class="menu-link menu-item">Подразделения</a>
            <a asp-controller="Styles" asp-action="Index" class="menu-link menu-item">Стили руководства</a>
            <a asp-controller="Head" asp-action="Groups" class="menu-link menu-item">Группы сотрудников</a>
            <a asp-controller="Head" asp-action="Rules" class="menu-link menu-item">Правила отпусков</a>
            <a asp-controller="Deputies" asp-action="Index" class="menu-link menu-item">Заместители</a>
            <a asp-controller="VacationDays" asp-action="SetDays" class="menu-link menu-item">Отпускные дни</a>
            <a href="#" class="menu-link menu-item">Правила видимости</a>
        }
        <hr class="menu-separator" />
        <a asp-controller="Login" asp-action="Logout" class="menu-link menu-item">Выйти</a>
    </div>
    <div id="right-space" class="flex-container flex-column flex-start">
        <div id="messages-block" class="container">
            <div class="row">
                <div class="col-md-12">
                    @Html.CheckError(error)
                    @Html.CheckMessage(message)
                    @Html.CheckSuccess(success)
                </div>
            </div>
        </div>
        <div id="main-content">
            @RenderBody()
        </div>
    </div>
</main>